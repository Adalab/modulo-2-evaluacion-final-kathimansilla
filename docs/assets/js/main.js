"use strict";const ulMainElement=document.querySelector(".js__listMain");let ulFavoritesElement=document.querySelector(".js__listFavorite");const inputElement=document.querySelector(".js__inputElement"),searchBntElement=document.querySelector(".js__searchBnt"),newIconHeartCrack=document.createElement("i");newIconHeartCrack.classList.add("fa-solid"),newIconHeartCrack.classList.add("fa-heart-crack");const urlAPI="https://dev.adalab.es/api/disney?pageSize=15",imgEmpty="https://via.placeholder.com/210x295/ffffff/555555/?text=Disney";let favorite=!1,cardListApi=[],cardListFavorites=[];fetch(urlAPI).then(e=>e.json()).then(e=>{console.log(e),cardListApi=e.data,renderCardList(cardListApi)});const renderOneCard=e=>{""!==e.imageUrl&&void 0!==e.imageUrl||(e.imageUrl="imgEmpty");return`<li class="card js__cardElement" id="${e._id}">\n    <div class="card__imgContainer">\n        <img\n            src="${e.imageUrl}"\n            alt="${e.name}"\n            class="characterImg"\n        />\n    </div>\n    <div class="card__nameContainer js__nameContainer">\n      <p class="js__name">${e.name}</p>\n      <i class="fa-solid fa-heart js__heartIcon"></i>\n    </div>\n  </li>`},renderCardList=e=>{ulMainElement.innerHTML="";for(const r of e)ulMainElement.innerHTML+=renderOneCard(r);addEventCard()},handleClickCard=e=>{const r=parseInt(e.currentTarget.id),t=cardListApi.find(e=>e._id===r),a=cardListFavorites.findIndex(e=>e._id===r);-1===a?(heartBackgroundAdd(r,!0),cardListFavorites.push(t)):(heartBackgroundDelete(r),cardListFavorites.splice(a,1)),localStorage.setItem("favoriteCard",JSON.stringify(cardListFavorites)),renderFavoriteList(),renderCardList(cardListApi)},renderFavoriteList=()=>{ulFavoritesElement.innerHTML="";for(const e of cardListFavorites){ulFavoritesElement.innerHTML+=renderOneCard(e);const r=e._id;heartBackgroundAdd(r,!0)}},heartBackgroundAdd=e=>{const r=document.getElementById(e),t=r.querySelector(".js__nameContainer"),a=t.querySelector(".js__heartIcon"),n=t.querySelector(".js__name");newIconHeartCrack.style.color="white",r.style.backgroundColor="#000000",n.style.color="white",t.appendChild(newIconHeartCrack),t.removeChild(a)},heartBackgroundDelete=e=>{renderCardList(cardListApi)},handleClickSearch=e=>{e.preventDefault();const r=inputElement.value,t=cardListApi.filter(e=>e.name.toLowerCase().includes(r.toLowerCase()));renderCardList(t)},addEventCard=()=>{const e=document.querySelectorAll(".js__cardElement");for(const r of e)r.addEventListener("click",handleClickCard)};searchBntElement.addEventListener("click",handleClickSearch);const cardFavoritesLS=localStorage.getItem("favoriteCard"),init=()=>{cardFavoritesLS&&(cardListFavorites=JSON.parse(cardFavoritesLS),renderFavoriteList(cardListFavorites))};cardFavoritesLS&&(cardListFavorites=JSON.parse(cardFavoritesLS),renderFavoriteList(cardListFavorites));