"use strict";const ulMainElement=document.querySelector(".js__listMain");let ulFavoritesElement=document.querySelector(".js__listFavorite");const newIconHeartCrack=document.createElement("i");newIconHeartCrack.classList.add("fa-solid"),newIconHeartCrack.classList.add("fa-heart-crack");const urlAPI="https://dev.adalab.es/api/disney?pageSize=15",imgEmpty="https://via.placeholder.com/210x295/ffffff/555555/?text=Disney";let favorite=!1,cardListApi=[],cardListFavorites=[];fetch(urlAPI).then(e=>e.json()).then(e=>{console.log(e),cardListApi=e.data,renderCardList(cardListApi)});const renderOneCard=e=>{""!==e.imageUrl&&void 0!==e.imageUrl||(e.imageUrl="imgEmpty");return`<li class="card js__cardElement" id="${e._id}">\n    <div class="card__imgContainer">\n        <img\n            src="${e.imageUrl}"\n            alt="${e.name}"\n            class="characterImg"\n        />\n    </div>\n    <div class="card__nameContainer js__nameContainer">\n      <p class="js__name">${e.name}</p>\n      <i class="fa-solid fa-heart js__heartIcon"></i>\n    </div>\n  </li>`},renderCardList=e=>{ulMainElement.innerHTML="";for(const r of e)ulMainElement.innerHTML+=renderOneCard(r);addEventCard()},handleClickCard=e=>{const r=parseInt(e.currentTarget.id),a=cardListApi.find(e=>e._id===r),t=cardListFavorites.findIndex(e=>e._id===r);-1===t?(heartBackgroundAdd(r,!0),cardListFavorites.push(a)):(heartBackgroundDelete(r),cardListFavorites.splice(t,1)),localStorage.setItem("favoriteCard",JSON.stringify(cardListFavorites)),renderFavoriteList(),renderCardList(cardListApi)},renderFavoriteList=()=>{ulFavoritesElement.innerHTML="";for(const e of cardListFavorites){ulFavoritesElement.innerHTML+=renderOneCard(e);const r=e._id;heartBackgroundAdd(r,!0)}},heartBackgroundAdd=e=>{const r=document.getElementById(e),a=r.querySelector(".js__nameContainer"),t=a.querySelector(".js__heartIcon"),i=a.querySelector(".js__name");newIconHeartCrack.style.color="white",r.style.backgroundColor="#000000",i.style.color="white",a.appendChild(newIconHeartCrack),a.removeChild(t)},heartBackgroundDelete=e=>{renderCardList(cardListApi)},addEventCard=()=>{const e=document.querySelectorAll(".js__cardElement");for(const r of e)r.addEventListener("click",handleClickCard)},cardFavoritesLS=localStorage.getItem("favoriteCard"),init=()=>{cardFavoritesLS&&(cardListFavorites=JSON.parse(cardFavoritesLS),renderFavoriteList(cardListFavorites))};cardFavoritesLS&&(cardListFavorites=JSON.parse(cardFavoritesLS),renderFavoriteList(cardListFavorites));